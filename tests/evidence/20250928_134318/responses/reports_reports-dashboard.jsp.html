

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Reports Dashboard - Legacy Credit Control System</title>
    <link rel="stylesheet" type="text/css" href="../css/legacy-style.css">
    <style>
        .reports-header { background: #e8f4f8; padding: 20px; margin: 20px 0; border-radius: 5px; border-left: 4px solid #17a2b8; }
        .report-category { background: white; border: 1px solid #ddd; padding: 20px; margin: 15px 0; border-radius: 3px; }
        .report-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .report-card { background: #f8f9fa; border: 1px solid #ddd; padding: 15px; border-radius: 3px; }
        .report-card h4 { color: #495057; margin-top: 0; }
        .report-card p { color: #6c757d; font-size: 14px; margin: 10px 0; }
        .btn { display: inline-block; padding: 8px 15px; margin: 5px; text-decoration: none; border-radius: 3px; border: none; cursor: pointer; font-size: 12px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: #000; }
        .btn-info { background: #17a2b8; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .summary-metrics { display: flex; flex-wrap: wrap; gap: 15px; margin: 20px 0; }
        .metric-box { flex: 1; min-width: 200px; background: white; border: 1px solid #ddd; padding: 15px; border-radius: 3px; text-align: center; }
        .metric-value { font-size: 24px; font-weight: bold; margin: 10px 0; }
        .metric-label { color: #666; font-size: 12px; }
        .trend-positive { color: #28a745; }
        .trend-negative { color: #dc3545; }
        .trend-neutral { color: #6c757d; }
        .filter-panel { background: #f8f9fa; padding: 15px; margin: 15px 0; border-radius: 3px; border: 1px solid #ddd; }
        .filter-panel select, .filter-panel input { margin: 5px; padding: 8px; border: 1px solid #ddd; border-radius: 3px; }
        .chart-placeholder { background: #e9ecef; border: 2px dashed #adb5bd; height: 200px; display: flex; align-items: center; justify-content: center; margin: 15px 0; border-radius: 3px; color: #6c757d; }
        .report-actions { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; margin: 15px 0; border-radius: 3px; }
        .scheduled-reports { background: white; border: 1px solid #ddd; padding: 15px; margin: 15px 0; border-radius: 3px; }
        .schedule-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        .schedule-table th, .schedule-table td { padding: 8px; text-align: left; border-bottom: 1px solid #eee; }
        .schedule-table th { background: #f8f9fa; font-weight: bold; }
        .status-active { color: #28a745; font-weight: bold; }
        .status-pending { color: #ffc107; font-weight: bold; }
        .status-failed { color: #dc3545; font-weight: bold; }
    </style>
</head>
<body>
    <div id="header">
        <h1>Legacy Credit Control System</h1>
        <p>Reports Dashboard - Management Reporting Interface (Core Function 6)</p>
    </div>
    
    <div id="main-content">
        
        
        <!-- Page title -->
        <div class="reports-header">
            <h2>Management Reporting Center</h2>
            <p>Management Reporting Center - Providing key business metrics and decision support for management</p>
        </div>
        
        <!-- Key metrics overview -->
        <div class="report-category">
            <h3>📊 Key Business Metrics</h3>
            <div class="summary-metrics">
                <div class="metric-box">
                    <div class="metric-value" style="color: #007bff;">$2,500,000</div>
                    <div class="metric-label">Total Credit Limits</div>
                    <div class="trend-positive">
                        ↗ 5.2%
                    </div>
                </div>
                <div class="metric-box">
                    <div class="metric-value" style="color: #28a745;">$425,000</div>
                    <div class="metric-label">Monthly Collections</div>
                    <div class="trend-negative">
                        ↘ 2.1%
                    </div>
                </div>
                <div class="metric-box">
                    <div class="metric-value" style="color: #dc3545;">$135,000</div>
                    <div class="metric-label">Overdue Amount</div>
                    <div class="trend-negative">
                        ↗ 15.6%
                    </div>
                </div>
                <div class="metric-box">
                    <div class="metric-value" style="color: #ffc107;">3</div>
                    <div class="metric-label">High Risk Customers</div>
                    <div class="trend-positive">
                        ↘ 8.3%
                    </div>
                </div>
                <div class="metric-box">
                    <div class="metric-value" style="color: #17a2b8;">35.0%</div>
                    <div class="metric-label">Credit Utilization Rate</div>
                    <div class="trend-neutral">Stable</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value" style="color: #6c757d;">142/156</div>
                    <div class="metric-label">Active Customers</div>
                    <div class="trend-positive">↗ 3.2%</div>
                </div>
            </div>
        </div>
        
        <!-- Operation result -->
        
        
        <!-- Report filters -->
        <div class="filter-panel">
            <strong>📅 Report Filters:</strong>
            <select name="category" onchange="filterReports()">
                <option value="">All Categories</option>
                <option value="Credit Management">Credit Management</option>
                <option value="Payment Management">Payment Management</option>
                <option value="Risk Management">Risk Management</option>
                <option value="Collections Management">Collections Management</option>
                <option value="Management Decision">Management Decision</option>
                <option value="Compliance Management">Compliance Management</option>
            </select>
            
            <select name="frequency" onchange="filterReports()">
                <option value="">All Frequencies</option>
                <option value="Daily">Daily</option>
                <option value="Weekly">Weekly</option>
                <option value="Monthly">Monthly</option>
                <option value="Quarterly">Quarterly</option>
            </select>
            
            <input type="date" name="startDate" value="2025-01-01">
            <input type="date" name="endDate" value="2025-01-31">
            
            <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
            <button class="btn btn-secondary" onclick="resetFilters()">Reset</button>
        </div>
        
        <!-- Predefined reports -->
        <div class="report-category">
            <h3>📋 Available Reports</h3>
            <div class="report-grid">
                
                <div class="report-card">
                    <h4>Credit Control Monthly Summary</h4>
                    <p>Monthly summary report of customer credit limits, usage, and risk assessment</p>
                    <p><strong>Category:</strong> Credit Management | 
                       <strong>Frequency:</strong> Monthly | 
                       <strong>Format:</strong> PDF/Excel</p>
                    <p><strong>Last Run:</strong> 2025-01-20</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=CREDIT_SUMMARY" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('CREDIT_SUMMARY')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('CREDIT_SUMMARY')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('CREDIT_SUMMARY')">Download Template</button>
                    </div>
                </div>
                
                <div class="report-card">
                    <h4>Payment Trend Analysis</h4>
                    <p>Customer payment patterns, delay analysis, and cash flow forecasting</p>
                    <p><strong>Category:</strong> Payment Management | 
                       <strong>Frequency:</strong> Weekly | 
                       <strong>Format:</strong> PDF/Excel</p>
                    <p><strong>Last Run:</strong> 2025-01-22</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=PAYMENT_ANALYSIS" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('PAYMENT_ANALYSIS')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('PAYMENT_ANALYSIS')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('PAYMENT_ANALYSIS')">Download Template</button>
                    </div>
                </div>
                
                <div class="report-card">
                    <h4>Risk Assessment Report</h4>
                    <p>Customer risk level distribution, risk change trends, and early warning analysis</p>
                    <p><strong>Category:</strong> Risk Management | 
                       <strong>Frequency:</strong> Bi-weekly | 
                       <strong>Format:</strong> PDF</p>
                    <p><strong>Last Run:</strong> 2025-01-18</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=RISK_ASSESSMENT" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('RISK_ASSESSMENT')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('RISK_ASSESSMENT')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('RISK_ASSESSMENT')">Download Template</button>
                    </div>
                </div>
                
                <div class="report-card">
                    <h4>Overdue Collections Report</h4>
                    <p>Overdue account status, collection effectiveness, and legal escalation situations</p>
                    <p><strong>Category:</strong> Collections Management | 
                       <strong>Frequency:</strong> Monthly | 
                       <strong>Format:</strong> PDF/Excel</p>
                    <p><strong>Last Run:</strong> 2025-01-19</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=COLLECTIONS_REPORT" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('COLLECTIONS_REPORT')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('COLLECTIONS_REPORT')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('COLLECTIONS_REPORT')">Download Template</button>
                    </div>
                </div>
                
                <div class="report-card">
                    <h4>Executive Dashboard</h4>
                    <p>Senior management key indicators, business trends, and decision support data</p>
                    <p><strong>Category:</strong> Management Decision | 
                       <strong>Frequency:</strong> Daily | 
                       <strong>Format:</strong> PDF</p>
                    <p><strong>Last Run:</strong> 2025-01-23</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=EXECUTIVE_DASHBOARD" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('EXECUTIVE_DASHBOARD')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('EXECUTIVE_DASHBOARD')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('EXECUTIVE_DASHBOARD')">Download Template</button>
                    </div>
                </div>
                
                <div class="report-card">
                    <h4>Regulatory Compliance Report</h4>
                    <p>Regulatory compliance checks, risk exposure, and compliance indicators</p>
                    <p><strong>Category:</strong> Compliance Management | 
                       <strong>Frequency:</strong> Quarterly | 
                       <strong>Format:</strong> PDF</p>
                    <p><strong>Last Run:</strong> 2025-01-15</p>
                    
                    <div style="margin-top: 15px;">
                        <a href="reports-dashboard.jsp?action=generate&reportId=REGULATORY_COMPLIANCE" class="btn btn-success">Generate Report</a>
                        <button class="btn btn-info" onclick="previewReport('REGULATORY_COMPLIANCE')">Preview</button>
                        <button class="btn btn-warning" onclick="scheduleReport('REGULATORY_COMPLIANCE')">Schedule Settings</button>
                        <button class="btn btn-secondary" onclick="downloadTemplate('REGULATORY_COMPLIANCE')">Download Template</button>
                    </div>
                </div>
                
            </div>
        </div>
        
        <!-- Chart area -->
        <div class="report-category">
            <h3>📈 Trend Analysis Charts</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>Monthly Collection Trends</h4>
                    <div class="chart-placeholder">
                        [Monthly Collection Trend Chart Placeholder]<br>
                        <small>Will integrate chart library (e.g. Chart.js) in actual deployment</small>
                    </div>
                </div>
                <div>
                    <h4>Risk Level Distribution</h4>
                    <div class="chart-placeholder">
                        [Risk Level Distribution Pie Chart Placeholder]<br>
                        <small>Will integrate chart library in actual deployment</small>
                    </div>
                </div>
                <div>
                    <h4>Overdue Account Trends</h4>
                    <div class="chart-placeholder">
                        [Overdue Account Trend Chart Placeholder]<br>
                        <small>Will integrate chart library in actual deployment</small>
                    </div>
                </div>
                <div>
                    <h4>Customer Growth Analysis</h4>
                    <div class="chart-placeholder">
                        [Customer Growth Analysis Chart Placeholder]<br>
                        <small>Will integrate chart library in actual deployment</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scheduled report management -->
        <div class="scheduled-reports">
            <h3>⏰ Scheduled Report Tasks</h3>
            <table class="schedule-table">
                <thead>
                    <tr>
                        <th>Report Name</th>
                        <th>Execution Schedule</th>
                        <th>Recipients</th>
                        <th>Status</th>
                        <th>Next Run</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <td>Credit Control Monthly Summary</td>
                        <td>1st of every month 09:00</td>
                        <td>General Manager, CFO, Risk Manager</td>
                        <td class="status-active">
                            
                                Running
                            
                        </td>
                        <td>2025-02-01 09:00</td>
                        <td>
                            
                                <button class="btn btn-warning" onclick="pauseSchedule()">Pause</button>
                            
                            <button class="btn btn-secondary" onclick="editSchedule()">Edit</button>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Executive Dashboard</td>
                        <td>Daily 08:00</td>
                        <td>Senior Management Team</td>
                        <td class="status-active">
                            
                                Running
                            
                        </td>
                        <td>2025-01-24 08:00</td>
                        <td>
                            
                                <button class="btn btn-warning" onclick="pauseSchedule()">Pause</button>
                            
                            <button class="btn btn-secondary" onclick="editSchedule()">Edit</button>
                        </td>
                    </tr>
                    
                    <tr>
                        <td>Payment Trend Analysis</td>
                        <td>Every Monday 10:00</td>
                        <td>Finance Department</td>
                        <td class="status-pending">
                            
                                Waiting
                            
                        </td>
                        <td>2025-01-27 10:00</td>
                        <td>
                            
                                <button class="btn btn-success" onclick="resumeSchedule()">Start</button>
                            
                            <button class="btn btn-secondary" onclick="editSchedule()">Edit</button>
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
        <!-- Management operations -->
        <div class="report-actions">
            <h3>🔧 Management Operations</h3>
            <button class="btn btn-primary" onclick="generateBatchReports()">Generate Batch Reports</button>
            <button class="btn btn-success" onclick="exportAllData()">Export All Data</button>
            <button class="btn btn-warning" onclick="createCustomReport()">Create Custom Report</button>
            <button class="btn btn-info" onclick="viewAuditLog()">View Audit Log</button>
            <button class="btn btn-secondary" onclick="systemSettings()">System Settings</button>
        </div>
        
        <!-- Navigation buttons -->
        <div style="margin: 20px 0; text-align: center;">
            <a href="../risk/risk-assessment.jsp" class="btn btn-primary">Risk Assessment</a>
            <a href="../collections/collections-management.jsp" class="btn btn-warning">Collections Management</a>
            <a href="../payment/payment-tracking.jsp" class="btn btn-info">Payment Tracking</a>
            <a href="../customer-search-working.jsp" class="btn btn-secondary">Customer Search</a>
        </div>
        
    </div>
    
    <div id="footer">
        <p>&copy; 2025 Insurance Company - Legacy Credit Control System</p>
    </div>
    
    <script>
        function previewReport(reportId) {
            alert('Generating report preview: ' + reportId + '\nPreview will open in new window.');
        }
        
        function scheduleReport(reportId) {
            var frequency = prompt('Please enter scheduling frequency (daily/weekly/monthly):', 'monthly');
            if (frequency) {
                alert('Report ' + reportId + ' has been set for ' + frequency + ' scheduled execution.');
            }
        }
        
        function downloadTemplate(reportId) {
            alert('Downloading report template: ' + reportId + '\nTemplate file will be automatically downloaded.');
        }
        
        function generateBatchReports() {
            if (confirm('Are you sure you want to generate all scheduled reports? This may take several minutes.')) {
                alert('Batch report generation started, email notification will be sent upon completion.');
            }
        }
        
        function exportAllData() {
            if (confirm('Are you sure you want to export all credit control data?')) {
                alert('Data export in progress, Excel file will be sent to your email.');
            }
        }
        
        function createCustomReport() {
            alert('Redirecting to custom report designer...');
        }
        
        function viewAuditLog() {
            alert('Displaying system audit log, including all user operation records.');
        }
        
        function systemSettings() {
            alert('Opening system settings panel, configure report parameters and user permissions.');
        }
        
        function filterReports() {
            alert('Applying report filter criteria...');
        }
        
        function applyFilters() {
            alert('Filter criteria applied, reloading report list.');
        }
        
        function resetFilters() {
            alert('Filter criteria have been reset.');
            location.reload();
        }
        
        function pauseSchedule() {
            alert('Scheduled task has been paused.');
        }
        
        function resumeSchedule() {
            alert('Scheduled task has been started.');
        }
        
        function editSchedule() {
            alert('Opening scheduled task editor...');
        }
    </script>
</body>
</html>